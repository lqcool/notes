## 适配器模式

结构型模式(Structural Pattern)描述如何将类或者对象结合在一起形成更大的结构。如同搭积木，将简单的东西搭建成复杂的东西。

结构型模式分为类结构型模式和对象结构型模式。

**类结构型模式关心类的组合** ，有多个类可以组合成为一个更大的系统，在类结构型模式中一般只存在继承和实现关系。**对象结构型模式关心类与对象的组合** ，通过关联关系使得一个类中定义另一个类的实例对象，然后通过实例对象调用其方法。

### 模式定义

> 适配器模式将一个接口转换成用户希望的另一个接口，适配器模式使得接口不兼容的那些类可以一起工作（别名：包装器），既可以作为类结构型模式，也可以作为对象结构型模式。

### 模式结构

类结构型模式

> 模式图如下：
>
> ![35](https://github.com/lqcool/notes/blob/master/%E4%BB%93%E5%BA%93%E5%9B%BE%E5%BA%93/35.png)

对象结构型模式

> 模式结构图如下：
>
> ![36](https://github.com/lqcool/notes/blob/master/%E4%BB%93%E5%BA%93%E5%9B%BE%E5%BA%93/36.png)

在上面两种结构中，第一种是类结构型的，通过继承实现，第二种是对象结构型的，通过关联关系实现的。

> - Target（目标抽象类）
>
>   目标抽象类提出特别的要求，例如需要使用某一个特定领域的接口，可以是一个抽象类或者接口。也可以是具体的类，在类适配器中由于java不支持多继承，只能是接口。
>
> - Adapter（适配器类）
>
>   可以调用另一个接口作为一个转换器，对Adaptee和Target进行适配。适配器Adapter是模式的核心，在类适配器中通过实现target接口并继承Adaptee类让两者产生联系。在对象适配器中通过继承target并关联Adaptee对象让两者产生联系。
>
> - Adaptee（适配者类）
>
>   主要提供特别的接口，这个接口需要适配，适配者类一般是具体类。

### 模式的优缺点

> 无论是对象还是类适配器都有如下优点：
>
> - 将目标类与适配者类结构，通过使用一个适配器类来重用现有代码，不用修改原有的代码。
> - 增加类的透明性和复用性，将具体的实现封装在适配者类中，对于客户端来说是透明的，提高了适配者的复用性。
> - 灵活性和扩展性非常好，通过配置文件方便更换适配器，也可以不修改原有代码增加新的适配器。
>
> 缺点：
>
> - 对类适配器来说，java或这C#这些语言不支持多继承，因此目标抽象类只能为接口。
> - 对象适配器，想置换适配者类的方法不容易。

注意：在使用适配器的时候，客户端一定要正对抽象目标类进行编程，否则适配器模式的使用将导致系统发生一定的改动。