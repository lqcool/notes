## 抽象工厂模式（重要）

> 抽象工厂模式中，具体工厂可以**生产一组相关的具体产品**，一组产品称之为**产品族** ，产品族中每一个产品属于某一个**产品等级结构**。
>
> 抽象工厂模式是工厂方法模式的泛化版，工厂方法模式是一种特殊的抽象工厂模式。**工厂方法模式中每一个工厂生产一种产品，而抽象工厂模式中一个工厂可以生产多个具体产品**。

### 模式动机与定义

> 前面的工厂方法模式中一个具体工厂对应一个具体产品，工厂方法也具有唯一性。**有时候需要一个工厂生产多个产品对象**，如电器工厂可以生产电视、电冰箱、电灯等等。那么前面的工厂方法模式就显得有些局促了。抽象工厂模式中有两个重要的概念：**产品族、产品等级结构**。
>
> - **产品等级结构** ：产品等级结构就是产品的继承结构例如一个抽象类是电视机，子类有海尔电视机、海信电视机等等，这样**抽象父类和子类就构成一个产品等级结构**。
> - **产品族**：指的是由同一个工厂生产的，位于不同产品等级结构中的一组产品。（海尔电视机、海尔冰箱、海尔洗衣机等）
>
>
> 抽象工厂模式示意图：
>
> ![19](https://github.com/lqcool/notes/blob/master/%E4%BB%93%E5%BA%93%E5%9B%BE%E5%BA%93/19.png)
>
> 
>
> 定义：提供一个创建一系列相关或者相互依赖对象的接口，无需指定她们的具体类。属于对象创建型模式
>
> 例子：电脑组件工厂
>
> ![20](https://github.com/lqcool/notes/blob/master/%E4%BB%93%E5%BA%93%E5%9B%BE%E5%BA%93/20.png)

### 抽象工厂模式的优缺点

> 优点：
>
> - 抽象工厂模式隔离了具体类的生成，使得客户端不需要知道什么被创建
> - 当一个产品族中的多个对象被设计成一起工作时，它能够保证客户端始终只使用同一个产品族中的对象
> - 增加新的具体工厂和产品族很方便，无需修改已有的系统，符合“开闭原则”
>
> 缺点：
>
> - 添加新产品，难以扩展抽象工厂来生产新种类的产品，因为抽象工厂角色中规定了所有可能被创建的产品集合，要支持新的产品，需要对接口进行扩展，将设计到抽象工厂角色和它的所有子类。
