## 单例模式

### 模式的定义

> 单例模式：确保一个类只有一个实例
>
> 单例模式要点：
>
> - 一个类只能有一个实例
> - 他必须自行创建这个实例
> - 它必须自行向整个系统提供这个实例
>
> 

### 模式结构和分析

> 模式只包含一个类仅有的一个实例，提供一个静态方法让用户使用他的唯一的实例，其构造方法是是私有的（避免了外部能够对其进行实例化操作）
>
> 模式结构图：
>
> ![22](https://github.com/LQ55/notes/blob/master/%E4%BB%93%E5%BA%93%E5%9B%BE%E5%BA%93/22.png)
>
> ```java
> public class Singleton{
>     //私有静态成员变量
>     private static String instance = null;
>     //私有构造方法
>     private Singleton(){   
>     }
>     
>     //静态共有工厂方法，返回唯一的实例
>     public Singleton getInstance(){
>         if(instance == null){
>             instance = new Singleton();
>         }
>         return instance;
>     }
> }
> ```
>
> 要点：
>
> - 模式的构造方法私有
> - 提供一个自身的静态私有成员变量
> - 提供一个共有的静态工厂方法

### 单例模式的优缺点

> **优点**：
>
> - 提供了对唯一实例的受控访问
> - 系统内存只存在一个对象，节约了系统资源
> - 允许可变数目的实例（可以扩展使用与单例模式相似的方法获得指定个数的对象实例）
>
> **缺点**：
>
> - 没有抽象层，扩展比较困难
> - 职责过重